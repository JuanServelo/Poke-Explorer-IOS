////  FavoritosView.swift//  PokéExplorer////  Created by user276508 on 14/06/25.//import SwiftUIimport SwiftDatastruct FavoritosView: View {    var usuario: Usuario    @Environment(\.modelContext) var context    @Query var todosFavoritos: [Favorito]  // não filtramos aqui, pois 'usuario' ainda não está disponível    var body: some View {        let favoritos = todosFavoritos.filter { $0.usuarioEmail == usuario.email }        NavigationView {            List {                ForEach(favoritos) { favorito in                    HStack {                        AsyncImage(url: URL(string: favorito.imagemURL)) { image in                            image.resizable()                        } placeholder: {                            ProgressView()                        }                        .frame(width: 50, height: 50)                        .clipShape(RoundedRectangle(cornerRadius: 8))                        VStack(alignment: .leading) {                            Text(favorito.nome.capitalized)                                .font(.headline)                            Text("ID: \(favorito.pokemonId)")                                .font(.subheadline)                                .foregroundColor(.gray)                        }                    }                }                .onDelete { indexSet in                    deletarFavorito(indexSet, favoritos: favoritos)                }            }            .navigationTitle("Favoritos")        }    }    private func deletarFavorito(_ offsets: IndexSet, favoritos: [Favorito]) {        for index in offsets {            let favorito = favoritos[index]            context.delete(favorito)        }        try? context.save()    }}