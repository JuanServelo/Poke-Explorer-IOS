////  PerfilView.swift//  PokéExplorer////  Created by user276508 on 14/06/25.//import SwiftUIimport SwiftDatastruct PerfilView: View {    @Environment(\.modelContext) var context    @EnvironmentObject var authManager: AuthenticationManager // Acessa o gerenciador global        var usuario: Usuario    @StateObject private var viewModel = PerfilViewModel()    var body: some View {        NavigationView {            Form {                Section(header: Text("Seus Dados")) {                    TextField("Nome", text: $viewModel.nome)                    SecureField("Nova Senha", text: $viewModel.senha)                    SecureField("Confirmar Senha", text: $viewModel.confirmacao)                }                if let erro = viewModel.mensagemErro {                    Text(erro).foregroundColor(.red)                }                Section {                    Button("Salvar Alterações") {                        viewModel.salvar(usuario: usuario, contexto: context)                    }                }                Section {                    Button("Sair") {                        authManager.logout()                    }                    .foregroundColor(.red)                }            }            .navigationTitle("Perfil")            .onAppear {                viewModel.carregarDados(usuario: usuario)            }        }    }}