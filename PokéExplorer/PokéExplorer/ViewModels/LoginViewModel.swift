////  LoginViewModel.swift//  PokéExplorer////  Created by user276508 on 15/06/25.//import Foundationimport SwiftDataimport SwiftUI@MainActorclass LoginViewModel: ObservableObject {    @Published var email: String = ""    @Published var senha: String = ""    @Published var erroLogin: String? = nil    // A função agora retorna o usuário em caso de sucesso    func autenticar(contexto: ModelContext) -> Usuario? {        erroLogin = nil        let emailPredicate = #Predicate<Usuario> { $0.email == email }        let fetchDescriptor = FetchDescriptor(predicate: emailPredicate)        do {            guard let user = try contexto.fetch(fetchDescriptor).first else {                self.erroLogin = "Email não encontrado."                return nil            }            if user.senha == senha {                return user            } else {                self.erroLogin = "Senha inválida."                return nil            }        } catch {            self.erroLogin = "Erro ao tentar fazer login."            return nil        }    }}